{% include "header.html" %}
{% block content %}

<!-- Upload Section -->
<div class="container d-flex align-items-center justify-content-center min-vh-100 py-5">
  <div class="row w-100 justify-content-center">
    <div class="col-md-8 col-lg-6 col-xl-5">
      <div class="card shadow border-0 rounded-4 p-4 text-center">

        <!-- Profile Image -->
        <div class="d-flex justify-content-center mb-4">
          {% if current_user.image_file %}
            <img src="{{ url_for('static', filename='profile_pics/' ~ current_user.image_file) }}"
                 class="rounded-circle shadow-sm border border-3 border-white"
                 alt="Profile Picture"
                 style="width: 140px; height: 140px; object-fit: cover;">
          {% else %}
            <img src="{{ url_for('static', filename='assets/img/default-profile.jpg') }}"
                 class="rounded-circle shadow-sm border border-3 border-white"
                 alt="Default Profile Picture"
                 style="width: 140px; height: 140px; object-fit: cover;">
          {% endif %}
        </div>

        <!-- Upload Form -->
        <form method="POST" enctype="multipart/form-data" class="px-2">
          <div class="mb-3 text-start">
            <label for="picture" class="form-label fw-semibold">Choose a New Profile Photo</label>
            <input type="file" id="picture" name="picture" accept="image/*" class="form-control" onchange="previewImage(event)">
          </div>

          <button type="submit" class="btn btn-primary rounded-pill w-100 py-2">
            <i class="bi bi-upload me-2"></i>Upload Photo
          </button>
        </form>

        <!-- Back Button -->
        <a href="{{ url_for('profile', user_id=current_user.id) }}"
           class="btn btn-outline-secondary rounded-pill w-100 mt-3">
          <i class="bi bi-arrow-left me-2"></i>Back to Profile
        </a>
      </div>
    </div>
  </div>
</div>

{% include "footer.html" %}
{% endblock %}
